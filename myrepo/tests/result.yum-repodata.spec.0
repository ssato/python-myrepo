Name:           fedora-custom-release
Version:        19
Release:        1%{?dist}
Summary:        Yum .repo files for fedora-custom-19
Group:          System Environment/Base
License:        MIT
URL:            http://yumrepos.example.com/~jdoe/yum/fedora/19/
BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
BuildArch:      noarch
Requires:       yum
# NOTE: .repo file does not depends on arch but mock.cfg does.
Source0:        fedora-custom-19.repo
Source1:        fedora-custom-19-x86_64.cfg
Source2:        fedora-custom-19-i386.cfg


%description
Yum repo and related config files of fedora-custom-19.

This package contains release (.repo) file.


%package -n     mock-data-fedora-custom
Summary:        Mock related config files for fedora-custom-19
Group:          Development/Tools
Requires:       mock


%description -n mock-data-fedora-custom
Yum repo and related config files of fedora-custom-19.

This package contains mock.cfg file.


%prep
%setup -T -c %{name}-%{version}
cp %{SOURCE0} ./
cp %{SOURCE1} ./
cp %{SOURCE2} ./


%build


%install
rm -rf $RPM_BUILD_ROOT

mkdir -p $RPM_BUILD_ROOT/etc/yum.repos.d
mkdir -p $RPM_BUILD_ROOT/etc/mock
install -m 644 fedora-custom-19.repo $RPM_BUILD_ROOT/etc/yum.repos.d
for f in fedora-custom-19-*.cfg; do install -m 644 $f $RPM_BUILD_ROOT/etc/mock; done


%clean
rm -rf $RPM_BUILD_ROOT


%files
%defattr(-,root,root,-)
%config %{_sysconfdir}/yum.repos.d/*.repo


%files   -n     mock-data-fedora-custom
%defattr(-,root,root,-)
%config %{_sysconfdir}/mock/*.cfg


%changelog
* DATESTAMP John Doe <jdoe@example.com> - 19-1
- Initial packaging.
